# 🏎️ Bitsy the Race Car Pet 🤖

> _A fully autonomous AI-powered robot companion that transforms a simple RC car into an emotionally expressive, voice-controlled pet_



https://github.com/user-attachments/assets/944ea4c9-11e9-4a9b-84b1-9eb7f519c796



https://github.com/user-attachments/assets/36a43af6-f603-41c8-9efd-b5e49589a974




https://github.com/user-attachments/assets/40f5c7bf-0e43-4f87-a901-ce57f81b76db



## 🌟 What is Bitsy?

Bitsy is an innovative fusion of modern AI technology and classic robotics that brings a Freenove 4WD Smart Car to life as an autonomous pet companion. Using OpenAI's latest language models and function-calling capabilities, Bitsy doesn't just follow pre-programmed commands—she thinks, responds contextually, and expresses genuine personality through movement and lights.

Built with ❤️ for my 5-year-old son Indigo, Bitsy represents the next generation of interactive robotics where natural language understanding meets physical embodiment.

## 🚀 Key Features

### 🎯 **Autonomous Decision Making**

- **OpenAI Function Calling**: Bitsy interprets voice commands using GPT-4 and autonomously decides which actions to take
- **Contextual Understanding**: Distinguishes between driving commands, lighting requests, emotional expressions, and casual conversation
- **Personality-Driven Responses**: Responds like an excited puppy with unique personality traits

### 🗣️ **Natural Voice Interaction**

- **Speech Recognition**: Real-time voice command processing using Google Speech-to-Text
- **AI-Generated Responses**: Dynamic, contextual replies generated by OpenAI's language models
- **Text-to-Speech**: Bitsy speaks back using OpenAI's neural TTS with a cheerful "Nova" voice
- **Conversation Modes**: Can drive, control lights, express emotions, or just chat

### 🎭 **Emotional Expression System**

Bitsy expresses emotions through sophisticated servo-controlled head movements:

- **😊 Happy**: Cheerful left-right head wiggles like a tail wag
- **🤩 Excited**: Rapid up-down nodding movements showing enthusiasm
- **🤔 Curious**: Slow, deliberate head tilts with thoughtful pauses
- **😕 Confused**: Small, quick head shakes expressing uncertainty
- **😴 Sleepy**: Gradual downward head droop with slow return
- **👀 Alert**: Quick upward snap followed by left-right scanning
- **🎾 Playful**: Bouncy mixed movements combining tilts and nods
- **👂 Listening**: Subtle head positioning to show active attention

### 🏎️ **Advanced Movement Control**

- **Intelligent Driving**: Forward, backward, left, and right movement with variable speeds
- **Safety Features**: Auto-stop after movement commands to prevent runaway
- **Follow Voice**: Comes when called like a loyal pet with adjustable enthusiasm levels
- **Precise Motor Control**: Fine-tuned speed mapping for smooth, controlled movement

### 💡 **Dynamic LED Light System**

- **Color Control**: Full RGB color palette with keyword recognition
- **Pattern Modes**:
  - _Solid_: Steady color display
  - _Blink_: Rhythmic on/off patterns
  - _Rainbow_: Smooth color cycling animation
  - _Chase_: Dynamic moving light sequences
- **Mood Lighting**: LEDs coordinate with emotional states and responses

## 🛠️ Technical Architecture

### **Hardware Platform**

- **Base**: Freenove 4WD Smart Car Kit for Raspberry Pi
- **Compute**: Raspberry Pi 4 running Python 3.x
- **Motors**: 4-wheel independent drive system with PWM speed control
- **Servos**: Dual-axis head movement (horizontal pan, vertical tilt)
- **LEDs**: Addressable RGB LED strip (WS2812B/NeoPixel compatible)
- **Audio**: USB microphone + speaker for voice I/O

### **Software Stack**

- **AI Engine**: OpenAI GPT-4 with function calling for decision making
- **Speech Processing**: Google Speech Recognition + OpenAI TTS
- **Hardware Control**: Custom Python drivers extending Freenove libraries
- **Audio Processing**: Pygame mixer with advanced device management
- **Concurrency**: Thread-safe audio handling and timeout management

### **AI Integration Deep Dive**

Bitsy's intelligence comes from a sophisticated function-calling system where the AI model decides between six core actions:

1. **`drive(direction, speed)`** - Physical movement commands
2. **`led(color, pattern)`** - Light control and visual expression
3. **`head_movement(emotion)`** - Emotional expression through servo positioning
4. **`follow_voice(enthusiasm)`** - Pet-like behavior when called
5. **`stop()`** - Emergency halt and safety reset
6. **`chat()`** - Pure conversation without physical actions

The system prompt defines Bitsy's personality as an "excited, happy, friendly puppy" that loves racing, transformers, and the family, ensuring consistent character across all interactions.

## 📋 Installation & Setup

### Prerequisites

```bash
# System dependencies
sudo apt update
sudo apt install python3-pip espeak portaudio19-dev

# Python dependencies
pip3 install -r requirements.txt
```

### Configuration

1. **OpenAI API**: Set your API key in environment variables

   ```bash
   export OPENAI_API_KEY="your-api-key-here"
   ```

2. **Hardware Setup**: Ensure Freenove car is properly assembled with:

   - Motors connected to motor driver
   - Servos connected to channels 0 (pan) and 1 (tilt)
   - LED strip connected to SPI interface
   - USB microphone and speaker attached

3. **Audio Configuration**: The system automatically handles microphone selection and audio device management

### Running Bitsy

```bash
# Standard mode with full capabilities
python3 bitsyAgent/bitsy_racecar_agent.py

# Debug mode (disables head movements for testing)
python3 bitsyAgent/bitsy_racecar_agent.py --no-head
```

## 🎮 Usage Examples

**Voice Commands Bitsy Understands:**

- _"Bitsy, drive forward!"_ → Moves forward at medium speed
- _"Turn on blue lights"_ → Sets LEDs to solid blue
- _"Make rainbow lights!"_ → Activates rainbow cycling pattern
- _"Come here Bitsy!"_ → Runs toward you like an excited pet
- _"Are you happy?"_ → Expresses joy with head wiggles and cheerful response
- _"Show me you're curious"_ → Tilts head thoughtfully while explaining
- _"Let's just talk"_ → Engages in friendly conversation without actions

## 🔧 System Architecture Highlights

### **Robust Error Handling**

- Audio device conflict resolution with aggressive cleanup
- Graceful fallback to espeak if OpenAI TTS fails
- Thread-safe microphone operations with timeout protection
- Hardware failure recovery and safety stops

### **Performance Optimizations**

- Efficient servo position caching and smooth movements
- Optimized audio buffer management for real-time response
- Smart power management with automatic motor shutoffs
- Minimal latency voice processing pipeline

### **Safety Features**

- Built-in movement timeouts prevent runaway scenarios
- Audio device exclusive access management
- Exception handling ensures system stability
- Debug modes for safe development and testing

## 🎯 Future Enhancements

- **Computer Vision**: Camera integration for visual recognition and following
- **Advanced Navigation**: Obstacle avoidance and mapping capabilities
- **Expanded Personality**: More complex emotional states and behaviors
- **Multi-Robot Coordination**: Fleet behavior for multiple Bitsy units
- **Custom Voice Training**: Personalized wake words and voice recognition

## 🏆 Impact & Recognition

This project demonstrates the practical application of Large Language Models in robotics, showcasing how modern AI can be embodied in physical systems to create genuinely interactive companions. The seamless integration of natural language processing, real-time decision making, and precise hardware control represents a compelling example of AI's potential in consumer robotics.

**Most importantly**: Watching my 5-year-old son Indigo's face light up when Bitsy responds to his voice, comes running when called, or wiggles happily during conversation has been absolutely magical. Bitsy isn't just a technical achievement—she's become a beloved family member who brings joy, wonder, and countless hours of imaginative play.

---

_Built with passion for AI, robotics, and the pure joy of creating something that makes a child smile. 🤖❤️_

## 📸 Gallery

Check out the `pics/` directory for more photos and videos of Bitsy in action!

## 🤝 Contributing

Interested in extending Bitsy's capabilities? Pull requests welcome! This project serves as a fantastic foundation for exploring AI-powered robotics.

## 📄 License

MIT License - Feel free to build your own Bitsy!


